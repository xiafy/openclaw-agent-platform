# 文档维护指南

> **版本**: v1.0
> **日期**: 2026-02-27
> **用途**: 规范文档创建、更新、归档流程

---

## 📚 文档体系

### 核心文档 (必须维护)

| 文档 | 用途 | 更新频率 | 负责人 |
|------|------|---------|--------|
| `spec.md` | 架构主文档 | 每次部署后 | Claw |
| `README-deployment.md` | 文档索引 | 新增文档时 | Claw |
| `SHARED_REGISTRY.md` | 共享层清单 | 新增共享资产时 | Claw |

### SOP 文档 (持续优化)

| 文档 | 用途 | 更新频率 | 负责人 |
|------|------|---------|--------|
| `sop-minimal-setup.md` | 极简配置 (10 min) | 每次部署后优化 | Claw |
| `QUICKSTART-L2.md` | 快速部署 (90 min) | 每次部署后优化 | Claw |
| `sop-l2-agent-deployment.md` | 完整 SOP | 重大变更时 | Claw |

### 复盘文档 (一次性)

| 文档 | 用途 | 创建时机 | 负责人 |
|------|------|---------|--------|
| `retro-<agent>.md` | 详细复盘 | 每次部署后 24h 内 | Claw |
| `SUMMARY-<agent>.md` | 成果总结 | 每次部署后 | Claw |

---

## 📝 文档更新流程

### 部署新 Agent 后

**立即更新** (部署完成后 5 min 内):

1. **spec.md** — 更新部署状态表格
   ```markdown
   | shuaishuai | 🌟 生活助理 | L2 | 19002 | 极简 | ✅ |
   ```

2. **README-deployment.md** — 更新部署状态和文档清单

3. **SHARED_REGISTRY.md** — 添加新 Agent symlink 状态

**24h 内更新**:

4. **retro-<agent>.md** — 详细复盘报告

5. **SUMMARY-<agent>.md** — 成果总结

6. **SOP 文档** — 根据实际踩坑优化步骤

---

## 🎯 文档命名规范

### 架构文档
- `spec.md` — 架构主文档 (唯一)

### SOP 文档
- `sop-<主题>.md` — 标准作业程序
- `QUICKSTART-<主题>.md` — 快速入门指南

### 复盘文档
- `retro-<agent>-<级别>.md` — 详细复盘
  - 例：`retro-shuaishuai-l2.md`
- `SUMMARY-<agent>-<级别>.md` — 成果总结
  - 例：`SUMMARY-shuaishuai-l2.md`

### 计划文档
- `<agent>-plan.md` — 部署计划 (历史参考)
  - 例：`life-agent-plan.md`

### 索引文档
- `README-<主题>.md` — 导航索引
  - 例：`README-deployment.md`

---

## 📋 文档模板

### SOP 文档结构

```markdown
# <主题> SOP

> **版本**: v1.0
> **日期**: YYYY-MM-DD
> **耗时**: XX min

---

## 🎯 配置原则

### ✅ 配置什么
...

### ❌ 不配置什么
...

---

## 🚀 执行流程

### Step 1: ...
...

### Step 2: ...
...

---

## ✅ 验证测试
...

---

## ⚠️ 常见陷阱
...

---

## 📁 配置后结构
...

---

*文档路径：`~/Documents/claw-outputs/projects/agent-platform/docs/sop-<主题>.md`*
```

### 复盘文档结构

```markdown
# <Agent> 部署复盘

> **日期**: YYYY-MM-DD
> **项目**: ...
> **耗时**: ...

---

## 📊 成果概览
...

## 🎯 核心最佳实践 (Top 5)
...

## ⚠️ 踩坑 Top 5
...

## 📈 时间分配
...

## 🔄 下次优化 (v2.0)
...

---

*文档路径：`~/Documents/claw-outputs/projects/agent-platform/docs/retro-<agent>.md`*
```

---

## 🔄 文档版本管理

### 版本号规则

| 版本 | 说明 | 示例 |
|------|------|------|
| v1.0 | 初始版本 | SOP 首次发布 |
| v1.1 | 小优化 (文字/格式) | 错别字修复 |
| v2.0 | 重大更新 (流程变更) | 新增极简模式 |

### 变更日志

在文档末尾添加：

```markdown
*最后更新：YYYY-MM-DD HH:MM*
```

在 `spec.md` 变更日志表格中添加：

```markdown
| 日期 | 变更 | 操作人 |
|------|------|--------|
| 2026-02-27 | v9 — 文档优化，新增极简 SOP | Claw |
```

---

## 📊 文档质量检查

### 发布前检查清单

- [ ] 文档结构完整 (标题/章节/表格)
- [ ] 代码块可执行 (命令已验证)
- [ ] 链接有效 (内部/外部引用)
- [ ] 版本信息正确
- [ ] 文档路径标注
- [ ] 最后更新时间
- [ ] 与索引文档同步

### 定期审查 (每月)

- [ ] 删除过时文档
- [ ] 合并重复内容
- [ ] 更新踩坑记录
- [ ] 优化文档结构
- [ ] 检查外部链接

---

## 🗂️ 文档归档

### 归档条件

- 被新文档完全替代
- 仅历史参考价值
- 不再维护

### 归档方式

1. 移动到 `docs/archive/` 目录
2. 在文件名前加 `_` 前缀
3. 在文档顶部添加归档标记

```markdown
> **状态**: 📜 已归档
> **归档日期**: YYYY-MM-DD
> **替代文档**: `<新文档>.md`
```

---

## 📞 文档协作

### 提交文档更新

1. 在对应文档所在目录修改
2. 更新版本号和日期
3. 在 `spec.md` 变更日志中记录
4. 更新 `README-deployment.md` 索引

### 文档评审

- 技术准确性 → Claw 审核
- 文字表达 → 语法检查
- 结构清晰度 → 可读性测试

---

## 💡 最佳实践

1. **文档先行** — 执行前先写计划
2. **伴随更新** — 完成 Phase 立即更新文档
3. **一次一处** — 信息单点维护，多处引用
4. **版本清晰** — 重大变更升级版本号
5. **易于查找** — 索引文档保持最新

---

*文档路径：`~/Documents/claw-outputs/projects/agent-platform/docs/DOCUMENTATION-GUIDE.md`*
*最后更新：2026-02-27 18:55*
